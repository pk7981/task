{"version":3,"sources":["ClientRoom.js","JoinCreateRoom.js","Canvas.js","Room.js","Sidebar.js","App.js","index.js"],"names":["ClientRoom","_ref","userNo","socket","setUsers","setUserNo","imgRef","useRef","useEffect","on","data","toast","info","message","length","current","src","_jsxs","className","children","_jsx","style","height","ref","alt","JoinCreateRoom","uuid","setUser","setRoomJoined","roomId","setRoomId","useState","name","setName","joinName","setJoinName","joinRoomId","setJoinRoomId","onSubmit","e","preventDefault","dark","userId","userName","host","presenter","type","placeholder","value","onChange","target","readOnly","boxShadow","zIndex","fontsize","onClick","CopyToClipboard","text","onCopy","success","generator","rough","Canvas","canvasRef","ctx","color","setElements","elements","tool","isDrawing","setIsDrawing","canvas","window","innerHeight","width","innerWidth","context","getContext","strokeWidth","scale","lineCap","strokeStyle","lineWidth","useLayoutEffect","roughCanvas","clearRect","forEach","ele","i","element","draw","rectangle","offsetX","offsetY","stroke","roughness","line","linearPath","path","canvasImage","toDataURL","emit","onMouseDown","nativeEvent","prevElements","onMouseMove","map","index","onMouseUp","handleMouseUp","Room","setColor","history","setHistory","setTool","id","checked","htmlFor","disabled","prevHistory","filter","clearCanvas","fillStyle","fillRect","Sidebar","users","user","sideBarRef","_Fragment","openSideBar","left","position","top","transition","closeSideBar","usr","username","io","reconnectionAttempts","timeout","transports","App","roomJoined","ToastContainer","S4","Math","random","toString","substring","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3617535f.chunk.js","sourcesContent":["import React, { useEffect, useRef } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst ClientRoom = ({ userNo, socket, setUsers, setUserNo }) => {\r\n  const imgRef = useRef(null);\r\n  useEffect(() => {\r\n    socket.on(\"message\", (data) => {\r\n      toast.info(data.message);\r\n    });\r\n  }, []);\r\n  useEffect(() => {\r\n    socket.on(\"users\", (data) => {\r\n      setUsers(data);\r\n      setUserNo(data.length);\r\n    });\r\n  }, []);\r\n  useEffect(() => {\r\n    socket.on(\"canvasImage\", (data) => {\r\n      imgRef.current.src = data;\r\n    });\r\n  }, []);\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row pb-2\">\r\n        <h1 className=\"display-5 pt-4 pb-3 text-center\">\r\n          React Drawing App - users online:{userNo}\r\n        </h1>\r\n      </div>\r\n      <div className=\"row mt-5\">\r\n        <div\r\n          className=\"col-md-8 overflow-hidden border border-dark px-0 mx-auto\r\n          mt-3\"\r\n          style={{ height: \"500px\" }}\r\n        >\r\n          <img className=\"w-100 h-100\" ref={imgRef} src=\"\" alt=\"image\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ClientRoom;\r\n","import React, { useState } from \"react\";\r\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\r\nimport { toast } from \"react-toastify\";\r\n\r\n\r\nconst JoinCreateRoom = ({ uuid, setUser, setRoomJoined }) => {\r\n  const [roomId, setRoomId] = useState(uuid());\r\n  const [name, setName] = useState(\"\");\r\n  const [joinName, setJoinName] = useState(\"\");\r\n  const [joinRoomId, setJoinRoomId] = useState(\"\");\r\n\r\n  const handleCreateSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!name) return toast.dark(\"Please enter your name!\");\r\n\r\n    setUser({\r\n      roomId,\r\n      userId: uuid(),\r\n      userName: name,\r\n      host: true,\r\n      presenter: true,\r\n    });\r\n    setRoomJoined(true);\r\n  };\r\n  const handleJoinSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!joinName) return toast.dark(\"Please enter your name!\");\r\n\r\n    setUser({\r\n      roomId: joinRoomId,\r\n      userId: uuid(),\r\n      userName: joinName,\r\n      host: false,\r\n      presenter: false,\r\n    });\r\n    setRoomJoined(true);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-12\">\r\n          <h1 className=\"text-center my-5\">\r\n            Welcome To Realtime Whiteboard Sharing App\r\n          </h1>\r\n        </div>\r\n      </div>\r\n      <div className=\"row mx-5 mt-5\">\r\n        <div className=\"col-md-5 p-5 border mx-auto\">\r\n          <h1 className=\"text-center text-primary mb-5\">Create Room</h1>\r\n          <form onSubmit={handleCreateSubmit}>\r\n            <div className=\"form-group my-2\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Name\"\r\n                className=\"form-control\"\r\n                value={name}\r\n                onChange={(e) => setName(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"input-group my-2 border align-items-center\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control border-0 outline-0\"\r\n                value={roomId}\r\n                readOnly={true}\r\n                style={{\r\n                  boxShadow: \"none\",\r\n                  zIndex: \"0 !important\",\r\n                  fontsize: \"0.89rem !important\",\r\n                }}\r\n              />\r\n              <div className=\"input-group-append\">\r\n                <button\r\n                  className=\"btn btn-outline-primary  border-0 btn-sm\"\r\n                  type=\"button\"\r\n                  onClick={() => setRoomId(uuid())}\r\n                >\r\n                  Generate\r\n                </button>\r\n                &nbsp;&nbsp;\r\n                <CopyToClipboard\r\n                  text={roomId}\r\n                  onCopy={() => toast.success(\"Room Id Copied To Clipboard!\")}\r\n                >\r\n                  <button\r\n                    className=\"btn btn-outline-dark border-0 btn-sm\"\r\n                    type=\"button\"\r\n                  >\r\n                    Copy\r\n                  </button>\r\n                </CopyToClipboard>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group mt-5\">\r\n              <button type=\"submit\" className=\"form-control btn btn-dark\">\r\n                Create Room\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <div className=\"col-md-5 p-5 border mx-auto\">\r\n          <h1 className=\"text-center text-primary mb-5\">Join Room</h1>\r\n          <form onSubmit={handleJoinSubmit}>\r\n            <div className=\"form-group my-2\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Name\"\r\n                className=\"form-control\"\r\n                value={joinName}\r\n                onChange={(e) => setJoinName(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"form-group my-2\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control outline-0\"\r\n                value={joinRoomId}\r\n                onChange={(e) => setJoinRoomId(e.target.value)}\r\n                placeholder=\"Room Id\"\r\n                style={{\r\n                  boxShadow: \"none\",\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"form-group mt-5\">\r\n              <button type=\"submit\" className=\"form-control btn btn-dark\">\r\n                Join Room\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default JoinCreateRoom;","import React, { useEffect, useLayoutEffect, useState } from \"react\";\r\nimport rough from \"roughjs/bundled/rough.esm\";\r\n\r\nconst generator = rough.generator();\r\nconst Canvas = ({\r\n  canvasRef,\r\n  ctx,\r\n  color,\r\n  setElements,\r\n  elements,\r\n  tool,\r\n  socket,\r\n}) => {\r\n  const [isDrawing, setIsDrawing] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    canvas.height = window.innerHeight * 2;\r\n    canvas.width = window.innerWidth * 2;\r\n    canvas.style.width = `${window.innerWidth}px`;\r\n    canvas.style.height = `${window.innerHeight}px`;\r\n    const context = canvas.getContext(\"2d\");\r\n\r\n    context.strokeWidth = 5;\r\n    context.scale(2, 2);\r\n    context.lineCap = \"round\";\r\n    context.strokeStyle = color;\r\n    context.lineWidth = 5;\r\n    ctx.current = context;\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    ctx.current.strokeStyle = color;\r\n  }, [color]);\r\n\r\n  const handleMouseDown = (e) => {\r\n    const { offsetX, offsetY } = e.nativeEvent;\r\n\r\n    if (tool === \"pencil\") {\r\n      setElements((prevElements) => [\r\n        ...prevElements,\r\n        {\r\n          offsetX,\r\n          offsetY,\r\n          path: [[offsetX, offsetY]],\r\n          stroke: color,\r\n          element: tool,\r\n        },\r\n      ]);\r\n    } else {\r\n      setElements((prevElements) => [\r\n        ...prevElements,\r\n        { offsetX, offsetY, stroke: color, element: tool },\r\n      ]);\r\n    }\r\n\r\n    setIsDrawing(true);\r\n  };\r\n\r\n  useLayoutEffect(() => {\r\n    const roughCanvas = rough.canvas(canvasRef.current);\r\n    if (elements.length > 0) {\r\n      ctx.current.clearRect(\r\n        0,\r\n        0,\r\n        canvasRef.current.width,\r\n        canvasRef.current.height\r\n      );\r\n    }\r\n    elements.forEach((ele, i) => {\r\n      if (ele.element === \"rect\") {\r\n        roughCanvas.draw(\r\n          generator.rectangle(ele.offsetX, ele.offsetY, ele.width, ele.height, {\r\n            stroke: ele.stroke,\r\n            roughness: 0,\r\n            strokeWidth: 5,\r\n          })\r\n        );\r\n      } else if (ele.element === \"line\") {\r\n        roughCanvas.draw(\r\n          generator.line(ele.offsetX, ele.offsetY, ele.width, ele.height, {\r\n            stroke: ele.stroke,\r\n            roughness: 0,\r\n            strokeWidth: 5,\r\n          })\r\n        );\r\n      } else if (ele.element === \"pencil\") {\r\n        roughCanvas.linearPath(ele.path, {\r\n          stroke: ele.stroke,\r\n          roughness: 0,\r\n          strokeWidth: 5,\r\n        });\r\n      }\r\n    });\r\n    const canvasImage = canvasRef.current.toDataURL();\r\n    socket.emit(\"drawing\", canvasImage);\r\n  }, [elements]);\r\n\r\n  const handleMouseMove = (e) => {\r\n    if (!isDrawing) {\r\n      return;\r\n    }\r\n    const { offsetX, offsetY } = e.nativeEvent;\r\n\r\n    if (tool === \"rect\") {\r\n      setElements((prevElements) =>\r\n        prevElements.map((ele, index) =>\r\n          index === elements.length - 1\r\n            ? {\r\n                offsetX: ele.offsetX,\r\n                offsetY: ele.offsetY,\r\n                width: offsetX - ele.offsetX,\r\n                height: offsetY - ele.offsetY,\r\n                stroke: ele.stroke,\r\n                element: ele.element,\r\n              }\r\n            : ele\r\n        )\r\n      );\r\n    } else if (tool === \"line\") {\r\n      setElements((prevElements) =>\r\n        prevElements.map((ele, index) =>\r\n          index === elements.length - 1\r\n            ? {\r\n                offsetX: ele.offsetX,\r\n                offsetY: ele.offsetY,\r\n                width: offsetX,\r\n                height: offsetY,\r\n                stroke: ele.stroke,\r\n                element: ele.element,\r\n              }\r\n            : ele\r\n        )\r\n      );\r\n    } else if (tool === \"pencil\") {\r\n      setElements((prevElements) =>\r\n        prevElements.map((ele, index) =>\r\n          index === elements.length - 1\r\n            ? {\r\n                offsetX: ele.offsetX,\r\n                offsetY: ele.offsetY,\r\n                path: [...ele.path, [offsetX, offsetY]],\r\n                stroke: ele.stroke,\r\n                element: ele.element,\r\n              }\r\n            : ele\r\n        )\r\n      );\r\n    }\r\n  };\r\n  const handleMouseUp = () => {\r\n    setIsDrawing(false);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"col-md-8 overflow-hidden border border-dark px-0 mx-auto mt-3\"\r\n      style={{ height: \"500px\" }}\r\n      onMouseDown={handleMouseDown}\r\n      onMouseMove={handleMouseMove}\r\n      onMouseUp={handleMouseUp}\r\n    >\r\n      <canvas ref={canvasRef} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Canvas;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport Canvas from \"./Canvas\";\r\n\r\nconst Room = ({ userNo, socket, setUsers, setUserNo }) => {\r\n  const canvasRef = useRef(null);\r\n  const ctx = useRef(null);\r\n  const [color, setColor] = useState(\"#000000\");\r\n  const [elements, setElements] = useState([]);\r\n  const [history, setHistory] = useState([]);\r\n  const [tool, setTool] = useState(\"pencil\");\r\n\r\n  useEffect(() => {\r\n    socket.on(\"message\", (data) => {\r\n      toast.info(data.message);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"users\", (data) => {\r\n      setUsers(data);\r\n      setUserNo(data.length);\r\n    });\r\n  }, []);\r\n\r\n  const clearCanvas = () => {\r\n    const canvas = canvasRef.current;\r\n    const context = canvas.getContext(\"2d\");\r\n    context.fillStyle = \"white\";\r\n    context.fillRect(0, 0, canvas.width, canvas.height);\r\n    setElements([]);\r\n  };\r\n\r\n  const undo = () => {\r\n    setHistory((prevHistory) => [\r\n      ...prevHistory,\r\n      elements[elements.length - 1],\r\n    ]);\r\n    setElements((prevElements) =>\r\n      prevElements.filter((ele, index) => index !== elements.length - 1)\r\n    );\r\n  };\r\n\r\n  const redo = () => {\r\n    setElements((prevElements) => [\r\n      ...prevElements,\r\n      history[history.length - 1],\r\n    ]);\r\n    setHistory((prevHistory) =>\r\n      prevHistory.filter((ele, index) => index !== history.length - 1)\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row\">\r\n        <h1 className=\"display-5 pt-4 pb-3 text-center\">\r\n          React Drawing App - users online: {userNo}\r\n        </h1>\r\n      </div>\r\n      <div className=\"row justify-content-center align-items-center text-center py-2\">\r\n        {/* Flex container to align controls in a single line */}\r\n        <div className=\"controls-container d-flex justify-content-between align-items-center\">\r\n          <div className=\"color-picker\">\r\n            Color Picker : &nbsp;\r\n            <input\r\n              type=\"color\"\r\n              value={color}\r\n              onChange={(e) => setColor(e.target.value)}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"tools d-flex align-items-center\">\r\n            <div className=\"form-check form-check-inline\">\r\n              <input\r\n                className=\"form-check-input\"\r\n                type=\"radio\"\r\n                name=\"tools\"\r\n                id=\"pencil\"\r\n                value=\"pencil\"\r\n                checked={tool === \"pencil\"}\r\n                onClick={(e) => setTool(e.target.value)}\r\n                readOnly={true}\r\n              />\r\n              <label className=\"form-check-label\" htmlFor=\"pencil\">\r\n                Pencil\r\n              </label>\r\n            </div>\r\n            <div className=\"form-check form-check-inline\">\r\n              <input\r\n                className=\"form-check-input\"\r\n                type=\"radio\"\r\n                name=\"tools\"\r\n                id=\"line\"\r\n                value=\"line\"\r\n                checked={tool === \"line\"}\r\n                onClick={(e) => setTool(e.target.value)}\r\n                readOnly={true}\r\n              />\r\n              <label className=\"form-check-label\" htmlFor=\"line\">\r\n                Line\r\n              </label>\r\n            </div>\r\n            <div className=\"form-check form-check-inline\">\r\n              <input\r\n                className=\"form-check-input\"\r\n                type=\"radio\"\r\n                name=\"tools\"\r\n                id=\"rect\"\r\n                value=\"rect\"\r\n                checked={tool === \"rect\"}\r\n                onClick={(e) => setTool(e.target.value)}\r\n                readOnly={true}\r\n              />\r\n              <label className=\"form-check-label\" htmlFor=\"rect\">\r\n                Rectangle\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"actions d-flex\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-outline-primary\"\r\n              disabled={elements.length === 0}\r\n              onClick={() => undo()}\r\n            >\r\n              Undo\r\n            </button>\r\n            &nbsp;&nbsp;\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-outline-primary ml-1\"\r\n              disabled={history.length < 1}\r\n              onClick={() => redo()}\r\n            >\r\n              Redo\r\n            </button>\r\n            &nbsp;&nbsp;\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-danger\"\r\n              onClick={clearCanvas}\r\n            >\r\n              Clear Canvas\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"row\">\r\n        <Canvas\r\n          canvasRef={canvasRef}\r\n          ctx={ctx}\r\n          color={color}\r\n          setElements={setElements}\r\n          elements={elements}\r\n          tool={tool}\r\n          socket={socket}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Room;\r\n","import React, { useRef } from \"react\";\r\nimport { Socket } from \"socket.io-client\";\r\n\r\nconst Sidebar = ({ users, user, socket }) => {\r\n  const sideBarRef = useRef(null);\r\n\r\n  const openSideBar = () => {\r\n    sideBarRef.current.style.left = 0;\r\n  };\r\n  const closeSideBar = () => {\r\n    sideBarRef.current.style.left = -100 + \"%\";\r\n  };\r\n  return (\r\n    <>\r\n      <button\r\n        className=\"btn btn-dark btn-sm\"\r\n        onClick={openSideBar}\r\n        style={{ position: \"absolute\", top: \"3%\", left: \"3%\" }}\r\n      >\r\n        Users\r\n      </button>\r\n      <div\r\n        className=\"position-fixed pt-2 h-100 bg-dark\"\r\n        ref={sideBarRef}\r\n        style={{\r\n          width: \"200px\",\r\n          left: \"-100%\",\r\n          transition: \"0.3s linear\",\r\n          zIndex: \"9999\",\r\n        }}\r\n      >\r\n        <button\r\n          className=\"btn btn-block border-0 sideform-control rounded-0 btn-light\"\r\n          onClick={closeSideBar}\r\n        >\r\n          Close\r\n        </button>\r\n        <div className=\"w-100 mt-5\">\r\n          {users.map((usr, index) => (\r\n            <p key={index} className=\"text-white text-center py-2\">\r\n              {usr.username}\r\n              {usr.id === socket.id && \" - (You)\"}\r\n            </p>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport io from \"socket.io-client\";\r\nimport ClientRoom from \"./ClientRoom\";\r\nimport JoinCreateRoom from \"./JoinCreateRoom\";\r\nimport Room from \"./Room\";\r\nimport Sidebar from \"./Sidebar\";\r\n\r\nimport \"./style.css\";\r\n\r\nconst server = \"http://localhost:5000\";\r\nconst connectionOptions = {\r\n  \"force new connection\": true,\r\n  reconnectionAttempts: \"Infinity\",\r\n  timeout: 10000,\r\n  transports: [\"websocket\"],\r\n};\r\n\r\nconst socket = io(server, connectionOptions);\r\n\r\nconst App = () => {\r\n  const [userNo, setUserNo] = useState(0);\r\n  const [roomJoined, setRoomJoined] = useState(false);\r\n  const [user, setUser] = useState({});\r\n  const [users, setUsers] = useState([]);\r\n\r\n  const uuid = () => {\r\n    var S4 = () => {\r\n      return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n    };\r\n    return (\r\n      S4() +\r\n      S4() +\r\n      \"-\" +\r\n      S4() +\r\n      \"-\" +\r\n      S4() +\r\n      \"-\" +\r\n      S4() +\r\n      \"-\" +\r\n      S4() +\r\n      S4() +\r\n      S4()\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (roomJoined) {\r\n      socket.emit(\"user-joined\", user);\r\n    }\r\n  }, [roomJoined]);\r\n\r\n  return (\r\n    <div className=\"home\">\r\n      <ToastContainer />\r\n      {roomJoined ? (\r\n        <>\r\n          <Sidebar users={users} user={user} socket={socket} />\r\n          {user.presenter ? (\r\n            <Room\r\n              userNo={userNo}\r\n              user={user}\r\n              socket={socket}\r\n              setUsers={setUsers}\r\n              setUserNo={setUserNo}\r\n            />\r\n          ) : (\r\n            <ClientRoom\r\n              userNo={userNo}\r\n              user={user}\r\n              socket={socket}\r\n              setUsers={setUsers}\r\n              setUserNo={setUserNo}\r\n            />\r\n          )}\r\n        </>\r\n      ) : (\r\n        <JoinCreateRoom\r\n          uuid={uuid}\r\n          setRoomJoined={setRoomJoined}\r\n          setUser={setUser}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}